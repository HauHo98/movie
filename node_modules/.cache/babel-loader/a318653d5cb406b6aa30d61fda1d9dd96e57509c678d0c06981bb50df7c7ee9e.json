{"ast":null,"code":"import React,{useEffect,useState,useContext}from'react';import{useParams,Link}from'react-router-dom';import Contextpage from'../Contextpage';import{HiChevronLeft}from\"react-icons/hi\";import noimage from'../assets/images/movies.jpg';import{FaPlay}from\"react-icons/fa\";import{LazyLoadImage}from'react-lazy-load-image-component';import'react-lazy-load-image-component/src/effects/blur.css';import slugify from'react-slugify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const Detail=()=>{const APIKEY=process.env.REACT_APP_API_KEY;const{loader,setLoader}=useContext(Contextpage);const{id}=useParams();const[moviedet,setMoviedet]=useState([]);const[castdata,setCastdata]=useState([]);const[moviegenres,setMoviegenres]=useState([]);const[video,setVideo]=useState([]);const fetchMovie=async()=>{const data=await fetch(\"https://api.themoviedb.org/3/movie/\".concat(id,\"?api_key=\").concat(APIKEY,\"&language=en-US\"));const moviedetail=await data.json();setMoviedet(moviedetail);// console.log(moviedetail);\nsetMoviegenres(moviedetail.genres);setLoader(false);};const fetchCast=async()=>{const castdata=await fetch(\"https://api.themoviedb.org/3/movie/\".concat(id,\"/credits?api_key=\").concat(APIKEY,\"&language\"));const castdetail=await castdata.json();setCastdata(castdetail.cast);setLoader(false);};const fetchVideo=async()=>{const data=await fetch(\"https://api.themoviedb.org/3/movie/\".concat(id,\"/videos?api_key=\").concat(APIKEY,\"&language=en-US\"));const videodata=await data.json();setVideo(videodata.results);// console.log(videodata.results);\n};useEffect(()=>{fetchMovie();fetchCast();fetchVideo();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:loader?/*#__PURE__*/_jsx(\"div\",{className:\"h-screen w-full flex justify-center items-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"loader m-10\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative h-auto md:h-[82vh] flex justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-full w-full shadowbackdrop absolute\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-white absolute bottom-0 p-10 text-2xl md:text-6xl font-bold text-center\",children:moviedet.title}),moviedet.backdrop_path===null?/*#__PURE__*/_jsx(\"img\",{src:noimage,className:\"h-full w-full\"}):/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/original/\"+moviedet.backdrop_path,className:\"h-full w-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-white text-center pt-5 px-3 md:px-60 font-Roboto text-[18px]\",children:moviedet.overview}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-100 font-semibold my-3 flex justify-center\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"bg-blue-600/30 border-2 border-blue-700 py-2 px-3 rounded-full\",children:[\"Release Date : \",moviedet.release_date]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center flex-wrap\",children:moviegenres.map(tag=>/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"text-white font-semibold bg-gray-800 rounded-full px-4 py-1 m-2\",children:tag.name},tag.id)}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl text-yellow-400 font-semibold text-center p-2\",children:\"Cast\"}),/*#__PURE__*/_jsx(\"div\",{className:\"md:px-5 flex flex-row my-5 max-w-full flex-start overflow-x-auto relative scrollbar-thin scrollbar-thumb-gray-500/20 scrollbar-track-gray-900/90 md:pb-3\",children:castdata.map(cast=>/*#__PURE__*/_jsx(_Fragment,{children:cast.profile_path!==null?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex min-w-[9rem] md:min-w-[10rem] max-w-[9rem] md:max-w-[10rem] h-full items-center text-center flex-col mx-1\",children:[/*#__PURE__*/_jsx(LazyLoadImage,{effect:\"blur\",src:\"https://image.tmdb.org/t/p/w500\"+cast.profile_path,className:\"w-full h-full\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white\",children:cast.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-yellow-400\",children:[\"(\",cast.character,\")\"]})]})}):null}))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center mb-10 gap-5 flex-wrap\",children:/*#__PURE__*/_jsxs(Link,{to:\"/player/\".concat(id,\"/\").concat(slugify(moviedet.title)),className:\"p-4 px-6 rounded-full transition duration-300 ease-in-out focus:outline-none focus:shadow-outline bg-red-700 hover:bg-red-900 flex items-center justify-center gap-2 text-xl font-semibold  text-white\",children:[/*#__PURE__*/_jsx(FaPlay,{}),\"Watch Movie\"]})})]})});};","map":{"version":3,"names":["React","useEffect","useState","useContext","useParams","Link","Contextpage","HiChevronLeft","noimage","FaPlay","LazyLoadImage","slugify","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Detail","APIKEY","process","env","REACT_APP_API_KEY","loader","setLoader","id","moviedet","setMoviedet","castdata","setCastdata","moviegenres","setMoviegenres","video","setVideo","fetchMovie","data","fetch","concat","moviedetail","json","genres","fetchCast","castdetail","cast","fetchVideo","videodata","results","children","className","title","backdrop_path","src","overview","release_date","map","tag","name","profile_path","effect","character","to"],"sources":["/Users/admin/Desktop/movie/src/components/Detail.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react'\nimport { useParams, Link } from 'react-router-dom'\nimport Contextpage from '../Contextpage';\nimport { HiChevronLeft } from \"react-icons/hi\";\nimport noimage from '../assets/images/movies.jpg'\nimport { FaPlay } from \"react-icons/fa\";\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport slugify from 'react-slugify';\n\nexport const Detail = () => {\n  const APIKEY = process.env.REACT_APP_API_KEY;\n\n  const { loader, setLoader } = useContext(Contextpage);\n\n  const { id } = useParams()\n\n  const [moviedet, setMoviedet] = useState([]);\n  const [castdata, setCastdata] = useState([]);\n  const [moviegenres, setMoviegenres] = useState([]);\n  const [video, setVideo] = useState([]);\n\n  const fetchMovie = async () => {\n    const data = await fetch(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${APIKEY}&language=en-US`\n    );\n    const moviedetail = await data.json();\n    setMoviedet(moviedetail);\n    // console.log(moviedetail);\n    setMoviegenres(moviedetail.genres);\n    setLoader(false);\n  };\n\n  const fetchCast = async () => {\n    const castdata = await fetch(\n      `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${APIKEY}&language`\n    );\n    const castdetail = await castdata.json();\n    setCastdata(castdetail.cast);\n    setLoader(false);\n  }\n\n  const fetchVideo = async () => {\n    const data = await fetch(\n      `https://api.themoviedb.org/3/movie/${id}/videos?api_key=${APIKEY}&language=en-US`\n    );\n    const videodata = await data.json();\n    setVideo(videodata.results);\n    // console.log(videodata.results);\n  }\n\n  useEffect(() => {\n    fetchMovie();\n    fetchCast();\n    fetchVideo();\n  }, []);\n\n  \n  return (\n\n    <>\n      {\n        loader ? <div className='h-screen w-full flex justify-center items-center'><span className=\"loader m-10\"></span></div> :\n          <>\n            {/* poster */}\n            <div className='relative h-auto md:h-[82vh] flex justify-center'>\n              <div className='h-full w-full shadowbackdrop absolute'></div>\n              <h1 className='text-white absolute bottom-0 p-10 text-2xl md:text-6xl font-bold text-center'>{moviedet.title}</h1>\n              {moviedet.backdrop_path === null ? <img src={noimage} className='h-full w-full' /> : <img src={\"https://image.tmdb.org/t/p/original/\" + moviedet.backdrop_path} className='h-full w-full' />}\n\n            </div>\n\n            <div>\n\n              {/* overview */}\n              <h2 className='text-white text-center pt-5 px-3 md:px-60 font-Roboto text-[18px]'>{moviedet.overview}</h2>\n\n              <div className='text-blue-100 font-semibold my-3 flex justify-center'>\n                <h2 className='bg-blue-600/30 border-2 border-blue-700 py-2 px-3 rounded-full'>Release Date : {moviedet.release_date}</h2>\n              </div>\n\n              {/* tag */}\n              <div className='flex justify-center flex-wrap'>\n                {moviegenres.map((tag) => (\n                  <>\n                    <div key={tag.id} className='text-white font-semibold bg-gray-800 rounded-full px-4 py-1 m-2'>{tag.name}</div>\n                  </>\n                ))}\n              </div>\n            </div>\n\n            {/* cast */}\n            <div className='flex flex-col items-center'>\n              <h1 className=\"text-3xl text-yellow-400 font-semibold text-center p-2\">Cast</h1>\n\n              <div className=\"md:px-5 flex flex-row my-5 max-w-full flex-start overflow-x-auto relative\n              scrollbar-thin scrollbar-thumb-gray-500/20 scrollbar-track-gray-900/90 md:pb-3\">\n                {castdata.map((cast) => (\n                  <>\n                    {cast.profile_path !== null ? <>\n                      <div className='flex min-w-[9rem] md:min-w-[10rem] max-w-[9rem] md:max-w-[10rem] h-full items-center text-center flex-col mx-1'>\n                        <LazyLoadImage effect='blur' src={\"https://image.tmdb.org/t/p/w500\" + cast.profile_path} className=\"w-full h-full\" />\n                        <p className='text-white'>{cast.name}</p>\n                        <p className='text-yellow-400'>({cast.character})</p>\n                      </div>\n                    </> : null}\n                  </>\n                ))}\n              </div>\n            </div>\n\n            {/*/!* trailer *!/*/}\n            {/*<div className='flex justify-center items-center mb-10 gap-5 flex-wrap'>*/}\n            {/*  {Array.from(video).filter(trail => trail.type === \"Trailer\").map((trail, index) => (*/}\n            {/*    <>*/}\n            {/*        <>*/}\n            {/*          <a key={trail.id} href={'https://www.youtube.com/watch?v=' + trail.key} target=\"_blank\" className='flex border-2 border-red-600 bg-red-600/40 p-3 items-center justify-center gap-2 text-xl font-semibold rounded-full text-white'>*/}\n            {/*            <FaPlay />Watch trailer {Array.from(video).filter(trail => trail.type === \"Trailer\").length>1?index+1:\"\"}*/}\n            {/*          </a>*/}\n            {/*        </>*/}\n            {/*    </>*/}\n            {/*  ))*/}\n            {/*  }*/}\n            {/*</div>*/}\n\n            {/* watch movie */}\n            <div className='flex justify-center items-center mb-10 gap-5 flex-wrap'>\n              <Link  to={`/player/${id}/${slugify(moviedet.title)}`}\n               className='p-4 px-6 rounded-full transition duration-300 ease-in-out focus:outline-none focus:shadow-outline bg-red-700\n                hover:bg-red-900 flex items-center justify-center gap-2 text-xl font-semibold  text-white'>\n                <FaPlay />Watch Movie\n              </Link>\n            </div>\n          </>\n      }\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}