{"ast":null,"code":"import React,{useEffect,useContext}from'react';import Contextpage from'../Contextpage';import MovieCard from'../components/MovieCard.jsx';import{motion,AnimatePresence}from'framer-motion';import Header from'../components/Header';import{Helmet}from'react-helmet';import InfiniteScroll from'react-infinite-scroll-component';import{nanoid}from'nanoid';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Trending(){const{loader,page,setPage,fetchTrending,trending,totalPage}=useContext(Contextpage);useEffect(()=>{setPage(1);// Reset Page to 1 on initial render.\n},[]);useEffect(()=>{if(page>0){fetchTrending();}},[page]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Movies | Trending\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full  mb-20 md:mb-0\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(motion.div,{layout:true,className:\"flex flex-wrap relative justify-evenly md:justify-around\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:loader?/*#__PURE__*/_jsx(\"span\",{className:\"loader m-10\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(InfiniteScroll,{className:\"w-full md:p-2 flex flex-wrap relative justify-evenly md:justify-around\",dataLength:trending.length//This is important field to render the next data\n,next:()=>setPage(page+1),hasMore:page<totalPage,loader:/*#__PURE__*/_jsx(\"span\",{className:\"loader m-10\"}),scrollThreshol:0.9,style:{overflow:'hidden'},children:trending.map(tred=>/*#__PURE__*/_jsx(MovieCard,{movie:tred},nanoid()))})})})})]})]});}export default Trending;","map":{"version":3,"names":["React","useEffect","useContext","Contextpage","MovieCard","motion","AnimatePresence","Header","Helmet","InfiniteScroll","nanoid","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Trending","loader","page","setPage","fetchTrending","trending","totalPage","children","className","div","layout","dataLength","length","next","hasMore","scrollThreshol","style","overflow","map","tred","movie"],"sources":["/Users/admin/Desktop/movie/src/pages/Trending.jsx"],"sourcesContent":["import React, { useEffect, useContext } from 'react'\nimport Contextpage from '../Contextpage';\nimport MovieCard from '../components/MovieCard.jsx';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Header from '../components/Header';\nimport { Helmet } from 'react-helmet';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { nanoid } from 'nanoid';\n\nfunction Trending() {\n\n    const { loader, page, setPage, fetchTrending, trending, totalPage } = useContext(Contextpage);\n\n    useEffect(() => {\n        setPage(1) // Reset Page to 1 on initial render.\n    }, []);\n\n    useEffect(() => {\n        if (page > 0) {\n            fetchTrending();\n        }\n    }, [page])\n\n\n    return (\n        <>\n            <Helmet>\n                <title>Movies | Trending</title>\n            </Helmet>\n\n            <div className='w-full  mb-20 md:mb-0'>\n            <Header />\n                <motion.div\n                    layout\n                    className=\"flex flex-wrap relative justify-evenly md:justify-around\">\n                                            <AnimatePresence>\n                        {\n                            loader ? <span className=\"loader m-10\"></span> :\n                                <>\n                                                                     <InfiniteScroll\n                                        className=\"w-full md:p-2 flex flex-wrap relative justify-evenly md:justify-around\"\n                                        dataLength={trending.length} //This is important field to render the next data\n                                        next={() => setPage(page + 1)}\n                                        hasMore={page < totalPage}\n                                        loader={<span className=\"loader m-10\"></span>}\n                                        scrollThreshol={0.9}\n                                        style={{ overflow: 'hidden' }}\n                                    >\n\n                                        {trending.map((tred) => (\n                                            <MovieCard key={nanoid()} movie={tred} />\n                                        ))}\n\n                                    </InfiniteScroll>\n\n                                </>\n                        }\n                    </AnimatePresence>\n                </motion.div>\n                {/* <Pagebtn /> */}\n\n            </div>\n        </>\n    )\n}\n\nexport default Trending"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACpD,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,MAAO,CAAAC,SAAS,KAAM,6BAA6B,CACnD,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,OAASC,MAAM,KAAQ,cAAc,CACrC,MAAO,CAAAC,cAAc,KAAM,iCAAiC,CAC5D,OAASC,MAAM,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAEhB,KAAM,CAAEC,MAAM,CAAEC,IAAI,CAAEC,OAAO,CAAEC,aAAa,CAAEC,QAAQ,CAAEC,SAAU,CAAC,CAAGrB,UAAU,CAACC,WAAW,CAAC,CAE7FF,SAAS,CAAC,IAAM,CACZmB,OAAO,CAAC,CAAC,CAAC,CAAC;AACf,CAAC,CAAE,EAAE,CAAC,CAENnB,SAAS,CAAC,IAAM,CACZ,GAAIkB,IAAI,CAAG,CAAC,CAAE,CACVE,aAAa,CAAC,CAAC,CACnB,CACJ,CAAC,CAAE,CAACF,IAAI,CAAC,CAAC,CAGV,mBACIH,KAAA,CAAAF,SAAA,EAAAU,QAAA,eACIZ,IAAA,CAACJ,MAAM,EAAAgB,QAAA,cACHZ,IAAA,UAAAY,QAAA,CAAO,mBAAiB,CAAO,CAAC,CAC5B,CAAC,cAETR,KAAA,QAAKS,SAAS,CAAC,uBAAuB,CAAAD,QAAA,eACtCZ,IAAA,CAACL,MAAM,GAAE,CAAC,cACNK,IAAA,CAACP,MAAM,CAACqB,GAAG,EACPC,MAAM,MACNF,SAAS,CAAC,0DAA0D,CAAAD,QAAA,cAC5CZ,IAAA,CAACN,eAAe,EAAAkB,QAAA,CAEhCN,MAAM,cAAGN,IAAA,SAAMa,SAAS,CAAC,aAAa,CAAO,CAAC,cAC1Cb,IAAA,CAAAE,SAAA,EAAAU,QAAA,cACqCZ,IAAA,CAACH,cAAc,EAC5CgB,SAAS,CAAC,wEAAwE,CAClFG,UAAU,CAAEN,QAAQ,CAACO,MAAQ;AAAA,CAC7BC,IAAI,CAAEA,CAAA,GAAMV,OAAO,CAACD,IAAI,CAAG,CAAC,CAAE,CAC9BY,OAAO,CAAEZ,IAAI,CAAGI,SAAU,CAC1BL,MAAM,cAAEN,IAAA,SAAMa,SAAS,CAAC,aAAa,CAAO,CAAE,CAC9CO,cAAc,CAAE,GAAI,CACpBC,KAAK,CAAE,CAAEC,QAAQ,CAAE,QAAS,CAAE,CAAAV,QAAA,CAG7BF,QAAQ,CAACa,GAAG,CAAEC,IAAI,eACfxB,IAAA,CAACR,SAAS,EAAgBiC,KAAK,CAAED,IAAK,EAAtB1B,MAAM,CAAC,CAAiB,CAC3C,CAAC,CAEU,CAAC,CAEnB,CAAC,CAEE,CAAC,CACV,CAAC,EAGZ,CAAC,EACR,CAAC,CAEX,CAEA,cAAe,CAAAO,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}