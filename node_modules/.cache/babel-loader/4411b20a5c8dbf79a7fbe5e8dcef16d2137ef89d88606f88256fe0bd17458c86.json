{"ast":null,"code":"import React,{useContext,useState}from'react';import{Helmet}from'react-helmet';import Contextpage from'../Contextpage';import{useNavigate}from'react-router-dom';import slugify from'react-slugify';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Searchbar(){const{filteredGenre,fetchSearch,setBackGenre,setGenres}=useContext(Contextpage);const[value,setValue]=useState(\"\");const navigate=useNavigate();const[typingTimeout,setTypingTimeout]=useState(null);const handleSearch=()=>{// Clear the previous timeout to prevent premature execution\nif(typingTimeout){clearTimeout(typingTimeout);}// Set a new timeout\nconst newTimeout=setTimeout(()=>{onKeyUp(value);},500);// Adjust the timeout duration as needed (in milliseconds)\nsetTypingTimeout(newTimeout);};const onKeyUp=query=>{// console.log(query)\nif(query!==\"\"){query=query.trim();if(query===\"\"){navigate(\"/\");}else{navigate(\"/search/\".concat(slugify(query)));}}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Movies\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:max-w-[300px] h-full flex justify-center items-center my-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",name:\"searchpanel\",id:\"searchpanel\",placeholder:\"Search Movie\",className:\"md:bg-transparent p-3 h-10 w-full md:mx-10 md:w-[40rem] rounded-xl outline-none focus:bg-slate-600\",onKeyUp:e=>handleSearch(),value:value,onChange:e=>setValue(e.target.value)})})]});}export default Searchbar;","map":{"version":3,"names":["React","useContext","useState","Helmet","Contextpage","useNavigate","slugify","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Searchbar","filteredGenre","fetchSearch","setBackGenre","setGenres","value","setValue","navigate","typingTimeout","setTypingTimeout","handleSearch","clearTimeout","newTimeout","setTimeout","onKeyUp","query","trim","concat","children","className","type","name","id","placeholder","e","onChange","target"],"sources":["/Users/admin/Desktop/movie/src/components/Searchbar.jsx"],"sourcesContent":["import React, { useContext, useState } from 'react'\nimport { Helmet } from 'react-helmet';\nimport Contextpage from '../Contextpage';\nimport { useNavigate } from 'react-router-dom';\nimport slugify from 'react-slugify';\n\n\nfunction Searchbar() {\n\n  const { filteredGenre, fetchSearch, setBackGenre, setGenres } = useContext(Contextpage);\n  const [value, setValue] = useState(\"\");\n  const navigate = useNavigate();\n\n  const [typingTimeout, setTypingTimeout] = useState(null);\n\n  const handleSearch = () => {\n      // Clear the previous timeout to prevent premature execution\n      if (typingTimeout) {\n          clearTimeout(typingTimeout);\n      }\n\n      // Set a new timeout\n      const newTimeout = setTimeout(() => {\n          onKeyUp(value);\n      }, 500); // Adjust the timeout duration as needed (in milliseconds)\n\n      setTypingTimeout(newTimeout);\n  };\n\n  const onKeyUp = (query) => {\n    // console.log(query)\n    if (query !== \"\") {\n        query = query.trim();\n\n      if (query === \"\") {\n        navigate(\"/\");\n      } else {\n        navigate(`/search/${slugify(query)}`)\n      }\n    }\n  };\n\n  return (\n    <>\n    <Helmet>\n        <title>Movies</title>\n    </Helmet>\n\n    <div className='w-full md:max-w-[300px] h-full flex justify-center items-center my-4'>\n        <input\n          type=\"search\"\n          name=\"searchpanel\"\n          id=\"searchpanel\"\n          placeholder='Search Movie'\n          className='md:bg-transparent p-3 h-10 w-full md:mx-10 md:w-[40rem] rounded-xl outline-none focus:bg-slate-600'\n          onKeyUp={(e) => handleSearch()}\n          value={value}\n          onChange={(e) => setValue(e.target.value)}\n        />\n      </div>\n      </>\n  )\n}\n\nexport default Searchbar"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,MAAM,KAAQ,cAAc,CACrC,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,OAAO,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAGpC,QAAS,CAAAC,SAASA,CAAA,CAAG,CAEnB,KAAM,CAAEC,aAAa,CAAEC,WAAW,CAAEC,YAAY,CAAEC,SAAU,CAAC,CAAGhB,UAAU,CAACG,WAAW,CAAC,CACvF,KAAM,CAACc,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAAAkB,QAAQ,CAAGf,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACgB,aAAa,CAAEC,gBAAgB,CAAC,CAAGpB,QAAQ,CAAC,IAAI,CAAC,CAExD,KAAM,CAAAqB,YAAY,CAAGA,CAAA,GAAM,CACvB;AACA,GAAIF,aAAa,CAAE,CACfG,YAAY,CAACH,aAAa,CAAC,CAC/B,CAEA;AACA,KAAM,CAAAI,UAAU,CAAGC,UAAU,CAAC,IAAM,CAChCC,OAAO,CAACT,KAAK,CAAC,CAClB,CAAC,CAAE,GAAG,CAAC,CAAE;AAETI,gBAAgB,CAACG,UAAU,CAAC,CAChC,CAAC,CAED,KAAM,CAAAE,OAAO,CAAIC,KAAK,EAAK,CACzB;AACA,GAAIA,KAAK,GAAK,EAAE,CAAE,CACdA,KAAK,CAAGA,KAAK,CAACC,IAAI,CAAC,CAAC,CAEtB,GAAID,KAAK,GAAK,EAAE,CAAE,CAChBR,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,IAAM,CACLA,QAAQ,YAAAU,MAAA,CAAYxB,OAAO,CAACsB,KAAK,CAAC,CAAE,CAAC,CACvC,CACF,CACF,CAAC,CAED,mBACEhB,KAAA,CAAAF,SAAA,EAAAqB,QAAA,eACAvB,IAAA,CAACL,MAAM,EAAA4B,QAAA,cACHvB,IAAA,UAAAuB,QAAA,CAAO,QAAM,CAAO,CAAC,CACjB,CAAC,cAETvB,IAAA,QAAKwB,SAAS,CAAC,sEAAsE,CAAAD,QAAA,cACjFvB,IAAA,UACEyB,IAAI,CAAC,QAAQ,CACbC,IAAI,CAAC,aAAa,CAClBC,EAAE,CAAC,aAAa,CAChBC,WAAW,CAAC,cAAc,CAC1BJ,SAAS,CAAC,oGAAoG,CAC9GL,OAAO,CAAGU,CAAC,EAAKd,YAAY,CAAC,CAAE,CAC/BL,KAAK,CAAEA,KAAM,CACboB,QAAQ,CAAGD,CAAC,EAAKlB,QAAQ,CAACkB,CAAC,CAACE,MAAM,CAACrB,KAAK,CAAE,CAC3C,CAAC,CACC,CAAC,EACJ,CAAC,CAET,CAEA,cAAe,CAAAL,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}