{"ast":null,"code":"import React,{useEffect,useContext}from'react';import Contextpage from'../Contextpage';import MovieCard from'../components/MovieCard.jsx';import{motion,AnimatePresence}from'framer-motion';import Header from'../components/Header';// import { Pagebtn } from '../components/Pagebtn';\nimport{Helmet}from'react-helmet';import InfiniteScroll from'react-infinite-scroll-component';import{nanoid}from'nanoid';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Upcoming(){const{loader,setPage,page,fetchUpcoming,upcoming,totalPage}=useContext(Contextpage);useEffect(()=>{setPage(1);// Reset Page to 1 on initial render.\n},[]);useEffect(()=>{if(page>0){fetchUpcoming();}},[page]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Helmet,{children:/*#__PURE__*/_jsx(\"title\",{children:\"Movies | Upcoming movies\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full  md:p-10 mb-20 md:mb-0\",children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(motion.div,{layout:true,className:\"flex flex-wrap relative justify-evenly md:justify-around\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:loader?/*#__PURE__*/_jsx(\"span\",{className:\"loader m-10\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(InfiniteScroll,{className:\"w-full md:p-2 md:pt-10 flex flex-wrap relative justify-evenly md:justify-around\",dataLength:upcoming.length//This is important field to render the next data\n,next:()=>setPage(page+1),hasMore:page<totalPage,loader:/*#__PURE__*/_jsx(\"span\",{className:\"loader m-10\"}),scrollThreshol:0.9,style:{overflow:'hidden'},children:upcoming.map(upc=>/*#__PURE__*/_jsx(MovieCard,{movie:upc},nanoid()))})})})})]})]});}export default Upcoming;","map":{"version":3,"names":["React","useEffect","useContext","Contextpage","MovieCard","motion","AnimatePresence","Header","Helmet","InfiniteScroll","nanoid","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Upcoming","loader","setPage","page","fetchUpcoming","upcoming","totalPage","children","className","div","layout","dataLength","length","next","hasMore","scrollThreshol","style","overflow","map","upc","movie"],"sources":["/Users/admin/Desktop/movie/src/pages/Upcoming.jsx"],"sourcesContent":["import React, { useEffect, useContext } from 'react'\nimport Contextpage from '../Contextpage';\nimport MovieCard from '../components/MovieCard.jsx';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport Header from '../components/Header';\n// import { Pagebtn } from '../components/Pagebtn';\nimport { Helmet } from 'react-helmet';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport { nanoid } from 'nanoid';\n\nfunction Upcoming() {\n\n  const { loader, setPage, page, fetchUpcoming, upcoming, totalPage } = useContext(Contextpage);\n\n  useEffect(() => {\n    setPage(1) // Reset Page to 1 on initial render.\n  }, []);\n\n  useEffect(() => {\n    if (page > 0) {\n      fetchUpcoming();\n    }\n  }, [page])\n\n\n  return (\n    <>\n      <Helmet>\n        <title>Movies | Upcoming movies</title>\n      </Helmet>\n\n      <div className='w-full  md:p-10 mb-20 md:mb-0'>\n        <Header />\n        <motion.div\n          layout\n          className=\"flex flex-wrap relative justify-evenly md:justify-around\">\n          <AnimatePresence>\n            {\n              loader ? <span className=\"loader m-10\"></span> :\n                <>\n                  <InfiniteScroll\n                    className=\"w-full md:p-2 md:pt-10 flex flex-wrap relative justify-evenly md:justify-around\"\n                    dataLength={upcoming.length} //This is important field to render the next data\n                    next={() => setPage(page + 1)}\n                    hasMore={page < totalPage}\n                    loader={<span className=\"loader m-10\"></span>}\n                    scrollThreshol={0.9}\n                    style={{ overflow: 'hidden' }}\n                  >\n\n                    {upcoming.map((upc) => (\n                      <MovieCard key={nanoid()} movie={upc} />\n                    ))}\n\n                  </InfiniteScroll>\n\n                </>\n            }\n          </AnimatePresence>\n        </motion.div>\n        {/* <Pagebtn /> */}\n\n      </div>\n    </>\n  )\n}\n\nexport default Upcoming"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACpD,MAAO,CAAAC,WAAW,KAAM,gBAAgB,CACxC,MAAO,CAAAC,SAAS,KAAM,6BAA6B,CACnD,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC;AACA,OAASC,MAAM,KAAQ,cAAc,CACrC,MAAO,CAAAC,cAAc,KAAM,iCAAiC,CAC5D,OAASC,MAAM,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhC,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAElB,KAAM,CAAEC,MAAM,CAAEC,OAAO,CAAEC,IAAI,CAAEC,aAAa,CAAEC,QAAQ,CAAEC,SAAU,CAAC,CAAGrB,UAAU,CAACC,WAAW,CAAC,CAE7FF,SAAS,CAAC,IAAM,CACdkB,OAAO,CAAC,CAAC,CAAC,CAAC;AACb,CAAC,CAAE,EAAE,CAAC,CAENlB,SAAS,CAAC,IAAM,CACd,GAAImB,IAAI,CAAG,CAAC,CAAE,CACZC,aAAa,CAAC,CAAC,CACjB,CACF,CAAC,CAAE,CAACD,IAAI,CAAC,CAAC,CAGV,mBACEJ,KAAA,CAAAF,SAAA,EAAAU,QAAA,eACEZ,IAAA,CAACJ,MAAM,EAAAgB,QAAA,cACLZ,IAAA,UAAAY,QAAA,CAAO,0BAAwB,CAAO,CAAC,CACjC,CAAC,cAETR,KAAA,QAAKS,SAAS,CAAC,+BAA+B,CAAAD,QAAA,eAC5CZ,IAAA,CAACL,MAAM,GAAE,CAAC,cACVK,IAAA,CAACP,MAAM,CAACqB,GAAG,EACTC,MAAM,MACNF,SAAS,CAAC,0DAA0D,CAAAD,QAAA,cACpEZ,IAAA,CAACN,eAAe,EAAAkB,QAAA,CAEZN,MAAM,cAAGN,IAAA,SAAMa,SAAS,CAAC,aAAa,CAAO,CAAC,cAC5Cb,IAAA,CAAAE,SAAA,EAAAU,QAAA,cACEZ,IAAA,CAACH,cAAc,EACbgB,SAAS,CAAC,iFAAiF,CAC3FG,UAAU,CAAEN,QAAQ,CAACO,MAAQ;AAAA,CAC7BC,IAAI,CAAEA,CAAA,GAAMX,OAAO,CAACC,IAAI,CAAG,CAAC,CAAE,CAC9BW,OAAO,CAAEX,IAAI,CAAGG,SAAU,CAC1BL,MAAM,cAAEN,IAAA,SAAMa,SAAS,CAAC,aAAa,CAAO,CAAE,CAC9CO,cAAc,CAAE,GAAI,CACpBC,KAAK,CAAE,CAAEC,QAAQ,CAAE,QAAS,CAAE,CAAAV,QAAA,CAG7BF,QAAQ,CAACa,GAAG,CAAEC,GAAG,eAChBxB,IAAA,CAACR,SAAS,EAAgBiC,KAAK,CAAED,GAAI,EAArB1B,MAAM,CAAC,CAAgB,CACxC,CAAC,CAEY,CAAC,CAEjB,CAAC,CAEQ,CAAC,CACR,CAAC,EAGV,CAAC,EACN,CAAC,CAEP,CAEA,cAAe,CAAAO,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}